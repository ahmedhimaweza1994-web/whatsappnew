You have the existing WhatsApp Export Viewer app in this Replit. The user tested it with an official WhatsApp export (.txt + .zip with media), but several issues occurred. First, analyze and fix these problems based on the attached .txt example (Arabic content). Do not suggest solutions here—implement them directly in the code.

### Observed Issues (Test with Attached .txt):
1. **Garbled Chat Name**: When uploading the .txt, the chat name appears as "âØ¯Ø±Ø¯Ø´Ø© ÙÙ ÙØ§ØªØ³Ø§Ø¨ ÙØ¹ ââª+20 15 01018144â¬â" instead of "دردشة في واتساب مع +20 15 01018144". This happens due to improper handling of UTF-8 encoding, RTL marks (like \u200F), and filename parsing.
2. **No Messages Displayed**: The app shows "لا توجد رسائل" even though the .txt has ~14 messages. The parser fails to extract content because of Arabic text, Eastern Arabic numerals (٠١٢٣٤٥٦٧٨٩ instead of 0123456789), Arabic comma (،), RTL directionality marks, and multi-line messages (e.g., messages spanning lines without timestamps). The first line (encryption notice) is also not skipped.
3. **No Media Integration**: The .zip media (e.g., IMG-20250708-WA0029.jpg, PTT-20250708-WA0030.opus) is not extracted or matched to messages with placeholders like "<تم استبعاد الوسائط>". Messages with media show blank, and no inline display or gallery.

### Required Changes and Enhancements:
1. **Switch to Zip-Only Upload**: Change the upload flow to accept a single .zip file (the full WhatsApp export with .txt inside + media). Automatically extract the .txt and media from the zip. Parse the .txt to build chats, and map media files to relevant messages based on timestamps/filenames (e.g., match "25/10/2025، 10:22 م" to files like "IMG-20251025-WA*.jpg"). Store extracted media as local URLs/blobs for offline viewing. If no .txt in zip, show error.
2. **Full Arabic/English Support**: Ensure bidirectional text handling (auto-detect RTL for Arabic chats, LTR for English). Parse mixed-language exports correctly (e.g., Arabic names/messages with English timestamps). Format dates/times in user locale (Arabic/English).
3. **Mobile Responsiveness**: Make the entire app fully responsive for small screens (e.g., mobile phones, tablets). On mobile: Collapse sidebar into hamburger menu, stack chat window full-width, touch-friendly buttons, zoomable media, and prevent horizontal scroll. Use media queries or flexible framework (e.g., Tailwind responsive classes).
4. **Remove Replit Auth – Add Custom Auth**: Completely disable/remove any Replit Auth integration. Implement a custom local authentication system: Email/password signup/login (hash passwords securely, store users in local SQLite or IndexedDB). Use JWT tokens for sessions (stored in httpOnly cookies). Protect routes (e.g., dashboard/chats) with auth checks. No external providers—keep it self-contained for server migration (e.g., to Vercel).
5. **General Polish**: Ensure the UI remains 100% WhatsApp-like (green theme, bubbles, etc.). Add progress indicators for zip extraction/parsing. Support multiple zips (chat library). Test end-to-end: Upload sample zip with attached .txt + dummy media, verify ~14 messages display with placeholders/media matched, chat name correct, and responsive on preview.

Update the full codebase: Provide modified files (e.g., upload handler, parser, auth components, CSS for responsive/RTL). Include new dependencies if needed (e.g., for zip extraction). Make it production-ready for server deployment. After fixes, describe how to test with the attached .txt (simulate as zip content).